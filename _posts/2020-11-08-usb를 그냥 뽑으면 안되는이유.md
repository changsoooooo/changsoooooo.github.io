---
layout: post
title:  "Usb를 그냥 뽑으면 안되는 이유"
category: "잡지식"
date:   2020-11-08
excerpt: "Write Cache 때문에"
project: false
comments: true
---


USB를 안전하게 제거하기를 사용했었어야 했던 이유
===============================================

선배중에 네이버에 취업한 선배가 면접에서 USB를 그냥 뽑으면 안되는이유를 질문받았다고 한다.

왜그럴까 왜 usb를 그냥 뽑으면 안됬던 것일까

일반적으로 usb를 이용한 외장 디스크나 usb 메모리스틱을 사용하는 경우에 성능을 빠르게 하기 위해서 Write Cache를 사용하게 됩니다. 이 Write Cache는 usb메모리 장치에 
데이터를 직접 쓰는 대신 조금더 빠른 Write Cache에 쓰게 됩니다. 내부적으로는 다시 usb장치에 데이터를 쓰지만 사용자 입장에서는 이 write cache까지만 데이터가도착하면 끝난게 되기 때문에 빠르게 보입니다.

Write Cache에 쓰는 경우에 내부적으로 다시 write cache의 데이터를 usb메모리에 저장하는 동안에 강제로 제거를 하거나 혹은 문제가 생기게 된다면 write cache의 
데이터는 전원이 나가거나 문제가 생기며 유실되기 때문에 데이터가 깨지게 되는 겁니다. 그래서 일반적으로는 usb메모리 스틱이나 외장 디스크를 제거할때 하드웨어 안전하게 제거하기를
선택해 write cache에 있는 데이터를 모두 영구 보전 가능한 usb메모리에 저장하도록 합니다. 사용자는 백그라운드에서 usb에 쓰고있는지 모르기에 함부로 제거했다가
피를 보는구먼

하지만

윈도우 10부터 quick removal이라는 기능이 추가되었습니다

1. usb 장치에 우측버튼 -속성
2. policies에서 quick removal을 선택


